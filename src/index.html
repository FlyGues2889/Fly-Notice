<!DOCTYPE html>
<html lang="zh-CN" class="darkTheme">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>FlyNotice</title>

    <script src="./mdui/mdui.global.js"></script>

    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/font.css">
    <link rel="stylesheet" href="css/mdui.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="./fonts/material-symbols/index.css">
    <link rel="stylesheet" href="./css/elements.css">

    <script src="tauri.js"></script>
    <script defer src="index.js"></script>
</head>

<body id="body" class="mdui-theme-auto" style="margin: 0;">
    <mdui-layout style="height: 100vh;">
        <div class="loadingLayer" id="loading-layer">
            <mdui-circular-progress></mdui-circular-progress>
        </div>

        <div class="no-disturb-screen" id="no-disturb-screen">
            <div class="time-display" id="time-display">Requesting...</div>
            <div class="count-display" id="count-display"></div>

            <div class="disturb-container">
                <div class="showList" id="showList"></div>
            </div>

            <mdui-button variant="surface" class="exit-button" id="exit-screensaver">
                <span class="material-symbols-rounded">close</span>
            </mdui-button>
        </div>

        <mdui-navigation-rail contained value="mainPage" id="navigation-rail">
            <mdui-button-icon slot="top" id="list-container-switch" onclick="showListContainer()">
                <span class="material-symbols-rounded">menu_open</span>
            </mdui-button-icon>

            <mdui-navigation-rail-item id="toMain" value="mainPage" href="javascript:void(0);"
                onclick="navigate('mainPage')">
                <span slot="icon" class="material-symbols-rounded">smart_display</span>
                <span slot="active-icon" class="material-symbols-rounded-fill">smart_display</span>
            </mdui-navigation-rail-item>
            <mdui-navigation-rail-item id="toList" value="listPage" href="javascript:void(0);"
                onclick="navigate('listPage')">
                <span slot="icon" class="material-symbols-rounded">featured_play_list</span>
                <span slot="active-icon" class="material-symbols-rounded-fill">featured_play_list</span>
            </mdui-navigation-rail-item>

            <mdui-button-icon slot="bottom" id="open-nodisturb" style="margin: 0;">
                <span class="material-symbols-rounded">fit_screen</span>
            </mdui-button-icon>
            <mdui-button-icon slot="bottom" id="toSettings" href="javascript:void(0);"
                onclick="navigate('settingPage')">
                <span class="material-symbols-rounded">settings</span>
            </mdui-button-icon>

        </mdui-navigation-rail>

        <div class="list-container">
            <div class="time-container">
                <mdui-list-item nonclickable>
                    <span slot="icon" class="material-symbols-rounded">notifications_active</span>
                    <span id="time">Loading</span>

                    <span slot="description" class="showCount">
                        <span id="unreadCount" style="font-family: 'Product Sans';">0</span>
                        条通知
                    </span>
                </mdui-list-item>
            </div>

            <div class="overviewList"></div>

            <div class="toolBar">
                <mdui-list-item nonclickable>
                    <span slot="icon" class="material-symbols-rounded">text_fields</span>
                    <div class="slideBtn" slot="end-icon" style="width: 6rem;">
                        <div class="active-bkg">&nbsp;</div>
                        <div class="control-btn">&nbsp;</div>
                        <div class="unactive-bkg">&nbsp;</div>
                    </div>
                </mdui-list-item>
            </div>
        </div>

        <mdui-top-app-bar class="topBar">
            <mdui-top-app-bar-title>FlyNotice</mdui-top-app-bar-title>

            <div style="flex-grow: 1"></div>

            <mdui-button-icon id="titlebar-minimize" class="windowBtn">
                <span class="material-symbols-rounded">minimize</span>
            </mdui-button-icon>
            <mdui-button-icon id="titlebar-maximize" class="windowBtn">
                <span class="material-symbols-rounded" style="font-size: 1.2rem;">crop_square</span>
            </mdui-button-icon>
            <mdui-button-icon id="titlebar-close" class="windowBtn">
                <span class="material-symbols-rounded">close</span>
            </mdui-button-icon>
        </mdui-top-app-bar>


        <div class="page" id="mainPage">
            <div class="showList" id="showList"></div>

            <div class="add-toolbar">
                <mdui-button onclick="openEditDialog()" class="edit-btn normalBtn">
                    <span class="material-symbols-rounded">edit</span>
                </mdui-button>

                <mdui-button onclick="deleteCurrentNotification()" class="delete-btn normalBtn">
                    <span class="material-symbols-rounded">delete</span>
                </mdui-button>

                <mdui-button onclick="toggleCarousel()" class="carousel-toggle-btn normalBtn">
                    <span class="material-symbols-rounded">lock</span>
                </mdui-button>
            </div>

            <mdui-button class="openAddDialogBtn primaryBtn" onclick="openAddDialog()">
                <span class="material-symbols-rounded-fill">notification_add</span>
            </mdui-button>
        </div>

        <div class="page" id="listPage" style="display: none">
            <div class="page-container" style="width: calc(100% - 4rem)">
                <div class="msgList"></div>
            </div>

            <mdui-button class="openAddDialogBtn primaryBtn" onclick="openAddDialog()">
                <span class="material-symbols-rounded-fill">notification_add</span>
            </mdui-button>
        </div>

        <div class="page" id="settingPage" style="display: none;">
            <div class="page-container">
                <h1>设置</h1>
                <mdui-list-item nonclickable>
                    <style>
                        mdui-card.viewCard {
                            width: 100%;
                            padding: 1.4rem;
                            height: 12rem;
                            display: flex;
                            align-items: center;
                            color: rgb(var(--mdui-color-secondary));
                            border: 0.15rem solid rgba(var(--mdui-color-secondary), 0.2);
                            background-color: rgba(var(--mdui-color-secondary-container), 0.2);

                            overflow: scroll;
                            line-height: 3.2rem;
                        }
                    </style>
                    <mdui-card variant="outlined" class="viewCard">
                        散步后坐在路边分坚果。<br>
                        朋友把剥好的核桃递我，知道我嫌剥壳麻烦。<br>
                        看着车来来往往，聊些无关紧要的话，却觉得特别好。
                    </mdui-card>
                </mdui-list-item>
                <mdui-list>
                    <mdui-list-subheader>通用</mdui-list-subheader>
                    <mdui-list-item nonclickable class="topList top">
                        <span slot="icon" class="material-symbols-rounded">featured_play_list</span>
                        通知卡片样式
                        <span slot="description">设置并预览通知卡片的样式</span>
                    </mdui-list-item>
                    <div class="margined">
                        <mdui-list-item nonclickable>
                            卡片内容文字大小
                            <div class="slideBtn" slot="end-icon" style="width: 12rem;">
                                <div class="active-bkg">&nbsp;</div>
                                <div class="control-btn">&nbsp;</div>
                                <div class="unactive-bkg">&nbsp;</div>
                            </div>
                        </mdui-list-item>
                    </div>

                    <mdui-list-item nonclickable style="text-align: left;" class="bottomList">
                        <span slot="icon" class="material-symbols-rounded">timer</span>
                        通知滚动时间
                        <span slot="description">显示每条通知的时间间隔</span>
                        <mdui-text-field slot="end-icon" id="msgScrollTime" suffix="s" value="10"></mdui-text-field>
                    </mdui-list-item>

                    <mdui-list-subheader>个性化</mdui-list-subheader>
                    <mdui-list-item nonclickable>
                        <span slot="icon" class="material-symbols-rounded">color_lens</span>
                        主题
                        <span slot="description">切换应用程序主题</span>

                        <mdui-segmented-button-group slot="end-icon" style="width: 16rem" selects="single" value="auto">
                            <mdui-segmented-button value="auto" class="leftBtn"
                                onclick="javascript:document.querySelector('#body').className = 'mdui-theme-auto';">
                                <span class="material-symbols-rounded-fill"
                                    style="transform: scale(0.7);">brightness_auto</span>
                            </mdui-segmented-button>
                            <mdui-segmented-button value="light"
                                onclick="javascript:document.querySelector('#body').className = 'mdui-theme-light';">
                                <span class="material-symbols-rounded-fill"
                                    style="transform: scale(0.7);">wb_sunny</span>
                            </mdui-segmented-button>
                            <mdui-segmented-button value="dark" class="rightBtn"
                                onclick="javascript:document.querySelector('#body').className = 'mdui-theme-dark';">
                                <span class="material-symbols-rounded-fill"
                                    style="transform: scale(0.7);">brightness_2</span>
                            </mdui-segmented-button>
                        </mdui-segmented-button-group>

                    </mdui-list-item>
                    <mdui-list-subheader>关于</mdui-list-subheader>
                    <mdui-list-item rounded onclick="openInfoDialog()">
                        <span slot="icon" class="material-symbols-rounded">info</span>
                        关于此软件
                        <span slot="description">查看软件信息</span>
                    </mdui-list-item>
                </mdui-list>
            </div>
        </div>
    </mdui-layout>

    <mdui-dialog close-on-overlay-click headline="添加新通知" class="add-dialog">
        <span slot="icon" class="material-symbols-rounded">notification_add</span>
        <mdui-text-field rows="3" clearable autosize label="通知内容" type="input" id="excludeNums" value=""
            variant="outlined"
            style="width: 50vw;max-width: 32rem;margin-top: 0.8rem;font-family: 'HarmonyOS Sans SC';">
        </mdui-text-field>
        <mdui-list-item nonclickable>
            <mdui-checkbox slot="end-icon" id="check-important-msg"></mdui-checkbox>
            <span slot="icon" class="material-symbols-rounded">flag</span>
            是否为重要通知
            <span slot="description">重要通知的文字会使用强调色显示</span>
        </mdui-list-item>

        <mdui-button class="add-button close-add-dialog" slot="action" variant="tonal">添加到列表</mdui-button>
    </mdui-dialog>

    <mdui-dialog close-on-overlay-click headline="修改通知内容" class="edit-dialog">
        <span slot="icon" class="material-symbols-rounded">edit</span>
        <mdui-text-field rows="3" clearable autosize label="通知内容" type="input" id="editMsgContent" value=""
            variant="outlined"
            style="width: 50vw;max-width: 32rem;margin-top: 0.8rem;font-family: 'HarmonyOS Sans SC';">
        </mdui-text-field>
        <mdui-list-item nonclickable>
            <mdui-checkbox slot="end-icon" id="change-important-msg"></mdui-checkbox>
            <span slot="icon" class="material-symbols-rounded">flag</span>
            是否为重要通知
            <span slot="description">重要通知的文字会使用强调色显示</span>
        </mdui-list-item>

        <mdui-button class="close-edit-dialog" slot="action" variant="tonal">完成</mdui-button>
    </mdui-dialog>

    <mdui-dialog close-on-overlay-click class="info-dialog">
        <span slot="headline" style="font-family: 'Nunito';font-weight: bold;">FlyNotice</span>
        <span slot="icon" class="material-symbols-rounded">info</span>
        <small>FlyNotice 是基于 Material You 设计风格的通知显示软件。</small>
        <mdui-list>
            <mdui-collapse accordion>
                <mdui-collapse-item>
                    <mdui-list-item nonclickable slot="header"
                        style="margin-top: 1rem;background-color: rgb(var(--mdui-color-surface));border-radius: var(--mdui-shape-corner-large) var(--mdui-shape-corner-large) var(--mdui-shape-corner-small) var(--mdui-shape-corner-small);">
                        <span slot="icon" class="material-symbols-rounded">browser_updated</span>
                        <mdui-button slot="end-icon" variant="tonal"
                            style="background-color: rgb(var(--mdui-color-surface-container-high));width: 1rem;">
                            <span class="material-symbols-rounded">keyboard_arrow_up</span>
                        </mdui-button>
                        当前已安装的更新
                        <span slot="description">版本 1.2.6</span>
                    </mdui-list-item>
                    <mdui-list-item nonclickable
                        style="margin-top: 2px;background-color: rgb(var(--mdui-color-surface));border-radius: var(--mdui-shape-corner-small);">
                        <p style="color: rgb(var(--mdui-color-secondary));margin: 0;">更新日志</p>
                        <span slot="description">
                            25-10-26 13:23 (推送自 Lvi_Fly - FlyGues Studio)
                            <p style="margin-top: 0.2rem;">
                                # 修补<br>
                                - 优化：按钮组已被归类，卡片视图不再展示轮播冗余按钮<br>
                                - 优化：调整了一些容器的背景颜色，看起来更柔和<br>
                                - 优化：卡片视图的通知卡片操作按钮已减小缩放并调整位置<br>
                                - 优化：部分文案更改，展示内容改为 FlyGues Studio 的文段精选库<br>
                            </p>
                        </span>
                    </mdui-list-item>
                </mdui-collapse-item>
            </mdui-collapse>
        </mdui-list>
        <mdui-list-item nonclickable
            style="background-color: rgb(var(--mdui-color-surface));border-radius: var(--mdui-shape-corner-small) var(--mdui-shape-corner-small) var(--mdui-shape-corner-large) var(--mdui-shape-corner-large);">
            Made by Lvi_Fly
                <span slot="icon" class="material-symbols-rounded-fill">person_4</span>
            <span slot="description">https://github.com/FlyGues2889</span>
        </mdui-list-item>

    </mdui-dialog>
</body>

</html>