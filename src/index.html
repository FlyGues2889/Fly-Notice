<!DOCTYPE html>
<html lang="zh-CN" class="darkTheme">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>FlyNotice</title>

    <script src="./mdui/mdui.global.js"></script>

    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/font.css">
    <link rel="stylesheet" href="css/mdui.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="./fonts/material-symbols/index.css">
    <link rel="stylesheet" href="./css/elements.css">

    <script src="tauri.js"></script>
    <script defer src="index.js"></script>
</head>

<body id="body" class="mdui-theme-auto" style="margin: 0;">
    <mdui-layout style="height: 100vh;">
        <div class="loadingLayer" id="loading-layer">
            <svg xmlns="http://www.w3.org/2000/svg" width="3.6em" height="3.6em" viewBox="0 0 24 24">
                <path fill="none" stroke="#526070" stroke-dasharray="16" stroke-dashoffset="16" stroke-linecap="round"
                    stroke-linejoin="round" stroke-width="2" d="M12 3c4.97 0 9 4.03 9 9">
                    <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.14s" values="16;0" />
                    <animateTransform attributeName="transform" dur="1.05s" repeatCount="indefinite" type="rotate"
                        values="0 12 12;360 12 12" />
                </path>
            </svg>
        </div>

        <div class="no-disturb-screen mdui-theme-dark" id="no-disturb-screen">
            <div class="time-display" id="time-display">Requesting...</div>
            <mdui-badge class="count-display" id="count-display"> - </mdui-badge>

            <div class="disturb-container">
                <div class="showList" id="showList"></div>
            </div>

            <mdui-button variant="surface" class="exit-button" id="exit-screensaver">
                <span class="material-symbols-rounded">arrows_input</span>
            </mdui-button>
        </div>

        <mdui-navigation-rail contained value="mainPage" id="navigation-rail" alignment="center">
            <mdui-button-icon slot="top" id="list-container-switch" onclick="showListContainer()">
                <span class="material-symbols-rounded">menu_open</span>
            </mdui-button-icon>

            <mdui-button slot="top" class="openAddDialogBtn primaryBtn" onclick="openAddDialog()">
                <span class="material-symbols-rounded-fill">notification_add</span>
            </mdui-button>

            <mdui-navigation-rail-item id="toMain" value="mainPage" href="javascript:void(0);"
                onclick="navigate('mainPage')">
                <span slot="icon" class="material-symbols-rounded">smart_display</span>
                <span slot="active-icon" class="material-symbols-rounded-fill">smart_display</span>
            </mdui-navigation-rail-item>
            <mdui-navigation-rail-item id="toList" value="listPage" href="javascript:void(0);"
                onclick="navigate('listPage')">
                <span slot="icon" class="material-symbols-rounded">featured_play_list</span>
                <span slot="active-icon" class="material-symbols-rounded-fill">featured_play_list</span>
            </mdui-navigation-rail-item>

            <mdui-button-icon slot="bottom" id="open-nodisturb" style="margin: 0;">
                <span class="material-symbols-rounded">arrows_output</span>
            </mdui-button-icon>
            <mdui-button-icon slot="bottom" id="toSettings" href="javascript:void(0);"
                onclick="navigate('settingPage')">
                <span class="material-symbols-rounded">settings</span>
            </mdui-button-icon>

        </mdui-navigation-rail>

        <div class="list-container">
            <div class="time-container">
                <mdui-list-item nonclickable>
                    <mdui-avatar class="statusIcon" slot="icon">
                        <span class="material-symbols-rounded">playlist_play</span>
                    </mdui-avatar>
                    <span id="time">Loading</span>
                    <span slot="description"><span id="unreadCount">0</span> 通知在队列中</span>
                </mdui-list-item>
            </div>

            <div class="overviewList"></div>

            <div class="toolBar">
                <mdui-list-item nonclickable>
                    <span slot="icon" class="material-symbols-rounded">text_fields</span>
                    <div class="slideBtn" slot="end-icon" style="width: 6rem;">
                        <div class="active-bkg">&nbsp;</div>
                        <div class="control-btn">&nbsp;</div>
                        <div class="unactive-bkg">&nbsp;</div>
                    </div>
                </mdui-list-item>
            </div>
        </div>

        <mdui-top-app-bar class="topBar">
            <mdui-top-app-bar-title>FlyNotice</mdui-top-app-bar-title>

            <div style="flex-grow: 1"></div>

            <mdui-button-icon id="titlebar-minimize" class="windowBtn">
                <span class="material-symbols-rounded">minimize</span>
            </mdui-button-icon>
            <mdui-button-icon id="titlebar-maximize" class="windowBtn">
                <span class="material-symbols-rounded" style="font-size: 1.2rem;">crop_square</span>
            </mdui-button-icon>
            <mdui-button-icon id="titlebar-close" class="windowBtn">
                <span class="material-symbols-rounded">close</span>
            </mdui-button-icon>
        </mdui-top-app-bar>


        <div class="page" id="mainPage">
            <div class="showList" id="showList"></div>

            <div class="left-toolbar">
                <mdui-button onclick="openEditDialog()" class="edit-btn normalBtn">
                    <span class="material-symbols-rounded">edit</span>
                </mdui-button>

                <mdui-button onclick="deleteCurrentNotification()" class="delete-btn normalBtn">
                    <span class="material-symbols-rounded">delete</span>
                </mdui-button>

                <mdui-button onclick="toggleCarousel()" class="carousel-toggle-btn normalBtn">
                    <span class="material-symbols-rounded">lock</span>
                </mdui-button>
            </div>

            <div class="right-toolbar">
                <mdui-button id="prevNotificationBtn" class="normalBtn">
                    <span class="material-symbols-rounded">arrow_back</span>
                </mdui-button>
                <mdui-button id="nextNotificationBtn" class="normalBtn">
                    <span class="material-symbols-rounded">arrow_forward</span>
                </mdui-button>
            </div>
        </div>

        <div class="page" id="listPage" style="display: none">
            <div class="page-container" style="width: calc(100% - 4rem)">
                <div class="msgList"></div>
            </div>
        </div>

        <div class="page" id="settingPage" style="display: none;">
            <div class="page-container">
                <h1>设置</h1>
                <mdui-list-item nonclickable>
                    <style>
                        mdui-card.viewCard {
                            width: 100%;
                            padding: 1.4rem;
                            height: 8rem;
                            display: flex;
                            align-items: center;
                            color: rgb(var(--mdui-color-secondary));
                            border: none;
                            background-color: rgba(var(--mdui-color-surface));

                            line-height: 3.2rem;
                        }
                    </style>
                    <mdui-card variant="outlined" class="viewCard">
                        The quick brown fox jumps over the lazy dog.
                    </mdui-card>
                </mdui-list-item>
                <mdui-card class="upperCard-m">
                    <mdui-list-item nonclickable>
                        <span slot="icon" class="material-symbols-rounded">text_fields</span>
                        卡片内容文字大小
                        <div class="slideBtn" slot="end-icon" style="width: 12rem;">
                            <div class="active-bkg">&nbsp;</div>
                            <div class="control-btn">&nbsp;</div>
                            <div class="unactive-bkg">&nbsp;</div>
                        </div>
                    </mdui-list-item>
                </mdui-card>

                <mdui-card class="bottomCard-m">
                    <mdui-list-item nonclickable style="text-align: left;" class="bottomList">
                        <span slot="icon" class="material-symbols-rounded">timer</span>
                        通知滚动时间
                        <span slot="description">显示每条通知的时间间隔</span>
                        <mdui-text-field slot="end-icon" id="msgScrollTime" suffix="s" value="10"
                            variant="outlined"></mdui-text-field>
                    </mdui-list-item>
                </mdui-card>

                <mdui-card class="card-s">
                    <mdui-list-item nonclickable>
                        <span slot="icon" class="material-symbols-rounded">color_lens</span>
                        主题
                        <span slot="description">切换应用程序主题</span>

                        <mdui-segmented-button-group slot="end-icon" style="width: 16rem" selects="single" value="auto">
                            <mdui-segmented-button value="auto" class="leftBtn"
                                onclick="javascript:document.querySelector('#body').className = 'mdui-theme-auto';">
                                <span class="material-symbols-rounded"
                                    style="transform: scale(0.75);">brightness_auto</span>
                            </mdui-segmented-button>
                            <mdui-segmented-button value="light"
                                onclick="javascript:document.querySelector('#body').className = 'mdui-theme-light';">
                                <span class="material-symbols-rounded" style="transform: scale(0.75);">wb_sunny</span>
                            </mdui-segmented-button>
                            <mdui-segmented-button value="dark" class="rightBtn"
                                onclick="javascript:document.querySelector('#body').className = 'mdui-theme-dark';">
                                <span class="material-symbols-rounded"
                                    style="transform: scale(0.75);">brightness_2</span>
                            </mdui-segmented-button>
                        </mdui-segmented-button-group>
                    </mdui-list-item>
                </mdui-card>

                <mdui-card class="card-s">
                    <mdui-list-item rounded onclick="openInfoDialog()">
                        <span slot="icon" class="material-symbols-rounded">info</span>
                        关于此软件
                        <span slot="description">查看软件信息</span>
                    </mdui-list-item>
                </mdui-card>
            </div>
        </div>
    </mdui-layout>

    <mdui-dialog close-on-overlay-click headline="添加新通知" class="add-dialog">
        <span slot="icon" class="material-symbols-rounded">notification_add</span>
        <mdui-text-field rows="3" clearable label="通知内容" type="input" id="excludeNums" value="" variant="outlined"
            style="width: 100%;max-width: 32rem;height:28vh;max-height:28vh;margin-top: 0.8rem;font-family: 'HarmonyOS Sans SC';">
        </mdui-text-field>
        <mdui-card class="card-s" style="background-color: rgb(var(--mdui-color-surface-dim));">
            <mdui-list-item nonclickable>
                <mdui-checkbox slot="end-icon" id="check-important-msg"></mdui-checkbox>
                <span slot="icon" class="material-symbols-rounded-fill">flag</span>
                是否为重要通知
                <span slot="description">重要通知的文字会使用强调色显示</span>
            </mdui-list-item>
        </mdui-card>

        <mdui-button class="add-button close-add-dialog" slot="action" variant="tonal">添加到列表</mdui-button>
    </mdui-dialog>

    <mdui-dialog close-on-overlay-click headline="修改通知内容" class="edit-dialog">
        <span slot="icon" class="material-symbols-rounded">edit</span>
        <mdui-text-field rows="3" clearable label="通知内容" type="input" id="editMsgContent" value="" variant="outlined"
            style="width: 100%;max-width: 32rem;height:28vh;max-height:28vh;margin-top: 0.8rem;font-family: 'HarmonyOS Sans SC';">
        </mdui-text-field>
        <mdui-card class="card-s" style="background-color: rgb(var(--mdui-color-surface-dim));">
            <mdui-list-item nonclickable>
                <mdui-checkbox slot="end-icon" id="change-important-msg"></mdui-checkbox>
                <span slot="icon" class="material-symbols-rounded-fill">flag</span>
                是否为重要通知
                <span slot="description">重要通知的文字会使用强调色显示</span>
            </mdui-list-item>
        </mdui-card>

        <mdui-button class="close-edit-dialog" slot="action" variant="tonal">完成</mdui-button>
    </mdui-dialog>

    <mdui-dialog close-on-overlay-click class="info-dialog">
        <span slot="headline" style="font-family: 'Nunito';font-weight: bold;">FlyNotice</span>
        <span slot="icon" class="material-symbols-rounded">info</span>
        <small>FlyNotice 是基于 Material You 设计风格的通知显示软件。</small>
        <mdui-list>
            <mdui-collapse accordion>
                <mdui-collapse-item>
                    <mdui-list-item nonclickable slot="header"
                        style="margin-top: 1rem;background-color: rgb(var(--mdui-color-surface));border-radius: var(--mdui-shape-corner-large) var(--mdui-shape-corner-large) var(--mdui-shape-corner-small) var(--mdui-shape-corner-small);">
                        <span slot="icon" class="material-symbols-rounded">app_badging</span>
                        <mdui-button slot="end-icon" variant="tonal"
                            style="background-color: rgb(var(--mdui-color-surface-container-high));width: 1rem;">
                            <span class="material-symbols-rounded">keyboard_arrow_up</span>
                        </mdui-button>
                        当前已安装的更新
                        <span slot="description">版本 1.2.11</span>
                    </mdui-list-item>
                    <mdui-list-item nonclickable
                        style="margin-top: 2px;background-color: rgb(var(--mdui-color-surface));border-radius: var(--mdui-shape-corner-small);">
                        <p style="color: rgb(var(--mdui-color-secondary));margin: 0;">更新日志</p>
                        <span slot="description">
                            26-02-20 08:38
                            <p style="margin-top: 0.2rem;font-size: 0.7rem;">
                                # 修补<br>
                                - 优化：修复了应用程序层次不清的视觉错误，添加主要页面的底部阴影<br>
                                - 优化：修改息屏切换图标<br>
                                - 优化：更换更大的圆角统一视觉风格<br>
                            </p>
                        </span>
                    </mdui-list-item>
                </mdui-collapse-item>
            </mdui-collapse>
        </mdui-list>
        <mdui-list-item nonclickable
            style="background-color: rgb(var(--mdui-color-surface));border-radius: var(--mdui-shape-corner-small) var(--mdui-shape-corner-small) var(--mdui-shape-corner-large) var(--mdui-shape-corner-large);">
            Made by Lvi_Fly
            <span slot="icon" class="material-symbols-rounded">info</span>
            <span slot="description">https://github.com/FlyGues2889</span>
        </mdui-list-item>

    </mdui-dialog>
</body>

</html>